(this["webpackJsonpfcc-react-projects"]=this["webpackJsonpfcc-react-projects"]||[]).push([[5],{28:function(e,t,r){"use strict";function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,c)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r.d(t,"a",(function(){return s}))},46:function(e,t,r){},51:function(e,t,r){"use strict";r.r(t);var c=r(7),a=r(0),s={isPower:!0,selectedDataIndex:0,volume:50,display:""},n=r.n(a).a.createContext(),o=r(28),i=r(1),d=function(){var e=Object(a.useContext)(n),t=Object(c.a)(e,2),r=t[0],s=t[1],d=Object(a.useRef)(),u=Object(a.useRef)();var l=Object(a.useMemo)((function(){return Object(i.jsx)("div",{ref:u,className:"flame"})}),[]);return Object(a.useEffect)((function(){return r.isPower&&!u.current&&(d.current=setTimeout((function(){s((function(e){return Object(o.a)(Object(o.a)({},e),{},{display:l})}))}),1481)),function(){return clearTimeout(d.current)}}),[l,s,r.display,r.isPower]),Object(a.useEffect)((function(){r.isPower?s((function(e){return Object(o.a)(Object(o.a)({},e),{},{display:l})})):s((function(e){return Object(o.a)(Object(o.a)({},e),{},{display:""})}))}),[l,s,r.isPower]),Object(i.jsx)("div",{id:"display",children:r.display})},u=[{keyCode:81,keyTrigger:"Q",data:[{id:"Heater-1",url:"https://s3.amazonaws.com/freecodecamp/drums/Heater-1.mp3"},{id:"Chord-1",url:"https://s3.amazonaws.com/freecodecamp/drums/Chord_1.mp3"}]},{keyCode:87,keyTrigger:"W",data:[{id:"Heater-2",url:"https://s3.amazonaws.com/freecodecamp/drums/Heater-2.mp3"},{id:"Chord-2",url:"https://s3.amazonaws.com/freecodecamp/drums/Chord_2.mp3"}]},{keyCode:69,keyTrigger:"E",data:[{id:"Heater-3",url:"https://s3.amazonaws.com/freecodecamp/drums/Heater-3.mp3"},{id:"Chord-3",url:"https://s3.amazonaws.com/freecodecamp/drums/Chord_3.mp3"}]},{keyCode:65,keyTrigger:"A",data:[{id:"Heater-4",url:"https://s3.amazonaws.com/freecodecamp/drums/Heater-4_1.mp3"},{id:"Shaker",url:"https://s3.amazonaws.com/freecodecamp/drums/Give_us_a_light.mp3"}]},{keyCode:83,keyTrigger:"S",data:[{id:"Clap",url:"https://s3.amazonaws.com/freecodecamp/drums/Heater-6.mp3"},{id:"Open-HH",url:"https://s3.amazonaws.com/freecodecamp/drums/Dry_Ohh.mp3"}]},{keyCode:68,keyTrigger:"D",data:[{id:"Open-HH",url:"https://s3.amazonaws.com/freecodecamp/drums/Dsc_Oh.mp3"},{id:"Closed-HH",url:"https://s3.amazonaws.com/freecodecamp/drums/Bld_H1.mp3"}]},{keyCode:90,keyTrigger:"Z",data:[{id:"Kick-n'-Hat",url:"https://s3.amazonaws.com/freecodecamp/drums/Kick_n_Hat.mp3"},{id:"Punchy-Kick",url:"https://s3.amazonaws.com/freecodecamp/drums/punchy_kick_1.mp3"}]},{keyCode:88,keyTrigger:"X",data:[{id:"Kick",url:"https://s3.amazonaws.com/freecodecamp/drums/RP4_KICK_1.mp3"},{id:"Side-Stick",url:"https://s3.amazonaws.com/freecodecamp/drums/side_stick_1.mp3"}]},{keyCode:67,keyTrigger:"C",data:[{id:"Closed-HH",url:"https://s3.amazonaws.com/freecodecamp/drums/Cev_H2.mp3"},{id:"Snare",url:"https://s3.amazonaws.com/freecodecamp/drums/Brk_Snr.mp3"}]}],l=function(){var e=Object(a.useContext)(n),t=Object(c.a)(e,2),r=t[0],s=t[1];Object(a.useEffect)((function(){var e=document.getElementById("display"),t=document.getElementById("control-panel"),r=document.querySelectorAll(".drum-pad");r&&r.forEach((function(e){return e.classList.toggle("on")})),e&&e.classList.toggle("on"),t&&t.classList.toggle("on")}),[r.isPower]);var d=function(){return"lsssslsssslsssslsssslsssslssssl".split("").map((function(e,t){return"l"===e?Object(i.jsx)("div",{className:"long-indicator"},t):Object(i.jsx)("div",{className:"short-indicator"},t)}))};return Object(i.jsxs)("div",{id:"control-panel",children:[Object(i.jsx)("div",{className:"volume-wrapper",children:Object(i.jsxs)("div",{className:"indicator-wrapper",children:[Object(i.jsx)("div",{className:"indicator left",children:d()}),Object(i.jsx)("input",{id:"volume",type:"range",value:r.volume,onChange:function(e){if(r.isPower){var t=Number(e.target.value);s((function(e){return Object(o.a)(Object(o.a)({},e),{},{volume:t,display:"Volume: "+t})}))}}}),Object(i.jsx)("div",{className:"indicator right",children:d()})]})}),Object(i.jsx)("div",{className:"power",children:Object(i.jsx)("button",{className:"on",onClick:function(e){s((function(e){return Object(o.a)(Object(o.a)({},e),{},{isPower:!e.isPower})})),e.target.classList.toggle("on")}})}),Object(i.jsx)("div",{className:"bank-selector",children:Object(i.jsx)("button",{onClick:function(){if(r.isPower){var e=r.selectedDataIndex,t=u[0].data.length;e===t-1?e=0:e++,s((function(t){return Object(o.a)(Object(o.a)({},t),{},{display:0===e?"Heater Kit":"Smooth Piano Kit",selectedDataIndex:e})}))}},children:"Bank"})})]})},m=function(e){e.count;var t=e.keyCode,r=e.keyTrigger,s=e.data,d=Object(a.useContext)(n),u=Object(c.a)(d,2),l=u[0],m=u[1],p=Object(a.useCallback)((function(){if(l.isPower){var e=document.getElementById(r);e.currentTime=0,e.volume=l.volume/100;var t=e.play();void 0!==t&&t.then((function(e){})).catch((function(e){console.log("Auto-play was prevented: ",e)})),e.parentElement.classList.toggle("active"),setTimeout((function(){e.parentElement.classList.toggle("active")}),80),m((function(e){return Object(o.a)(Object(o.a)({},e),{},{display:s[l.selectedDataIndex].id})}))}}),[s,r,m,l.isPower,l.selectedDataIndex,l.volume]);return Object(a.useEffect)((function(){var e=function(e){l.isPower&&e.keyCode===t&&p()};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[p,t,l.isPower,l.volume]),Object(i.jsxs)("div",{className:"drum-pad",id:s[l.selectedDataIndex].id,onClick:p,children:[r,Object(i.jsx)("audio",{preload:"auto",className:"clip",id:r,src:s[l.selectedDataIndex].url})]})},p=(r(46),function(){return Object(i.jsx)("div",{className:"drum-machine",children:Object(i.jsxs)("div",{id:"drum-machine",children:[Object(i.jsx)(d,{}),Object(i.jsx)("h1",{className:"title",children:"DRUM MACHINE"}),Object(i.jsxs)("div",{className:"title2",children:[Object(i.jsx)("span",{className:"title2-1",children:"MPX9"}),Object(i.jsx)("span",{className:"title2-2",children:"MOBILE SAMPLE PLAYER"})]}),Object(i.jsx)(l,{}),Object(i.jsx)("div",{className:"pad-container",children:u.map((function(e,t){return Object(i.jsx)(m,{count:t+1,keyCode:e.keyCode,keyTrigger:e.keyTrigger,data:e.data},e.keyCode)}))})]})})});t.default=function(){var e=Object(a.useState)(s),t=Object(c.a)(e,2),r=t[0],o=t[1];return Object(i.jsx)(n.Provider,{value:[r,o],children:Object(i.jsx)(p,{})})}}}]);
//# sourceMappingURL=5.3e1d33ec.chunk.js.map